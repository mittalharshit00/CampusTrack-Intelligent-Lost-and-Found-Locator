{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import{AuthProvider,AuthContext}from\"./context/AuthContext\";import LoginPage from\"./pages/LoginPage\";import RegisterPage from\"./pages/RegisterPage\";import ItemsListPage from\"./pages/ItemsListPage\";import NewItemPage from\"./pages/NewItemPage\";import ItemDetailPage from\"./pages/ItemDetailPage\";import ChatPage from\"./pages/ChatPage\";import AdminDashboardPage from\"./pages/AdminDashboardPage\";import Navbar from\"./components/Navbar\";import\"./styles/App.css\";// PrivateRoute component to protect routes\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children}=_ref;const{user,loading}=React.useContext(AuthContext);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;};// AdminRoute component to protect admin routes\nconst AdminRoute=_ref2=>{let{children}=_ref2;const{user,loading}=React.useContext(AuthContext);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(user.role!==\"ROLE_ADMIN\"){return/*#__PURE__*/_jsx(Navigate,{to:\"/items\",replace:true});}return children;};function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})})});}function AppContent(){const{user}=React.useContext(AuthContext);return/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/items\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ItemsListPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/items/new\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(NewItemPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/items/:id\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ItemDetailPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ChatPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboardPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/items\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/items\",replace:true})})]})]});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","AuthContext","LoginPage","RegisterPage","ItemsListPage","NewItemPage","ItemDetailPage","ChatPage","AdminDashboardPage","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PrivateRoute","_ref","children","user","loading","useContext","className","to","replace","AdminRoute","_ref2","role","App","AppContent","path","element"],"sources":["/home/kali/Documents/Project/frontend/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport { AuthProvider, AuthContext } from \"./context/AuthContext\";\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\nimport ItemsListPage from \"./pages/ItemsListPage\";\nimport NewItemPage from \"./pages/NewItemPage\";\nimport ItemDetailPage from \"./pages/ItemDetailPage\";\nimport ChatPage from \"./pages/ChatPage\";\nimport AdminDashboardPage from \"./pages/AdminDashboardPage\";\nimport Navbar from \"./components/Navbar\";\nimport \"./styles/App.css\";\n\n// PrivateRoute component to protect routes\nconst PrivateRoute = ({ children }) => {\n  const { user, loading } = React.useContext(AuthContext);\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return children;\n};\n\n// AdminRoute component to protect admin routes\nconst AdminRoute = ({ children }) => {\n  const { user, loading } = React.useContext(AuthContext);\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  if (user.role !== \"ROLE_ADMIN\") {\n    return <Navigate to=\"/items\" replace />;\n  }\n\n  return children;\n};\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <AppContent />\n      </AuthProvider>\n    </Router>\n  );\n}\n\nfunction AppContent() {\n  const { user } = React.useContext(AuthContext);\n\n  return (\n    <>\n      {user && <Navbar />}\n      <Routes>\n        <Route path=\"/login\" element={<LoginPage />} />\n        <Route path=\"/register\" element={<RegisterPage />} />\n        <Route\n          path=\"/items\"\n          element={\n            <PrivateRoute>\n              <ItemsListPage />\n            </PrivateRoute>\n          }\n        />\n        <Route\n          path=\"/items/new\"\n          element={\n            <PrivateRoute>\n              <NewItemPage />\n            </PrivateRoute>\n          }\n        />\n        <Route\n          path=\"/items/:id\"\n          element={\n            <PrivateRoute>\n              <ItemDetailPage />\n            </PrivateRoute>\n          }\n        />\n        <Route\n          path=\"/chat\"\n          element={\n            <PrivateRoute>\n              <ChatPage />\n            </PrivateRoute>\n          }\n        />\n        <Route\n          path=\"/admin\"\n          element={\n            <AdminRoute>\n              <AdminDashboardPage />\n            </AdminRoute>\n          }\n        />\n        <Route path=\"/\" element={<Navigate to=\"/items\" replace />} />\n        <Route path=\"*\" element={<Navigate to=\"/items\" replace />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}